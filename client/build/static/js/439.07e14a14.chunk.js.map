{"version":3,"file":"static/js/439.07e14a14.chunk.js","mappings":"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","sources":["components/ShareHelmet.js","components/ShareBtn.js","components/Buttons.js","components/NewProds.js","pages/CU.js"],"sourcesContent":["import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nconst ShareHelmet = () => {\r\n\r\n    return (\r\n        <Helmet>\r\n            <meta property=\"og:type\" content=\"website\" />\r\n            <meta property=\"og:title\" content=\"CVSNEW\" />\r\n            <meta property=\"og:url\" content=\"https://cvsnew-sloth-hub.koyeb.app/\" />\r\n            <meta property=\"og:description\" content=\"\" />\r\n            <meta property=\"og:image\" content=\"\" />\r\n        </Helmet>\r\n    );\r\n\r\n}\r\n\r\nexport default ShareHelmet;","import React from \"react\";\r\nimport { FaFacebookSquare, FaTwitterSquare } from \"react-icons/fa\"\r\nimport { RiKakaoTalkFill } from \"react-icons/ri\"\r\nimport { BiLinkAlt } from \"react-icons/bi\";\r\nimport ShareHelmet from \"./ShareHelmet\";\r\n\r\nconst ShareBtn = ({ prods, cvs }) => {\r\n\r\n    function shareToKakao() {\r\n        const kakao = window.Kakao;\r\n        if (kakao.isInitialized()) {\r\n            kakao.Share.sendCustom({\r\n                templateId: !prods.type || prods.type === \"증정\" ? 93216 : 93351,\r\n                templateArgs: {\r\n                    name: prods.title,\r\n                    price: prods.price.discount ? prods.price.discount : prods.price,\r\n                    image: prods.imgsrc,\r\n                    cvs: !prods.type || prods.type === \"증정\" ? \"7-eleven으\" : cvs,\r\n                    type: prods.type,\r\n                    header: prods.type === \"증정\" ? \"행사\" : \"신상\"\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    function changeMetaData() {\r\n        let dsc = document.querySelector(\"meta[property='og\\\\:description']\");\r\n        let img = document.querySelector(\"meta[property='og\\\\:image']\");\r\n        let title = prods.title;\r\n        if (prods.type) {\r\n            if (prods.type === \"증정\") {\r\n                dsc.setAttribute(\"content\", `📢 편의점 행사 알리미 📢 지금 ${cvs}에서는 ${title}이(가) ${prods.price}원!`);\r\n            } else if (prods.type === \"할인\") {\r\n                // 앞에 브랜드명이 있으면 제품명만 표기\r\n                title = title.indexOf(\")\") > 0 ? title.split(\")\")[1] : title;\r\n                dsc.setAttribute(\"content\", `📢 편의점 행사 알리미 📢 지금 ${cvs}에서는 ${title}이(가) ${prods.price.discount}원!`);\r\n            } else {\r\n                // 앞에 브랜드명이 있으면 제품명만 표기\r\n                title = title.indexOf(\")\") > 0 ? title.split(\")\")[1] : title;\r\n                dsc.setAttribute(\"content\", `📢 편의점 행사 알리미 📢 지금 ${cvs}에서는 ${title}이(가) ${prods.type}!`);\r\n            }\r\n        } else {\r\n            // 앞에 브랜드명이 있으면 제품명만 표기\r\n            title = title.indexOf(\")\") > 0 ? title.split(\")\")[1] : title;\r\n            dsc.setAttribute(\"content\", `📢 편의점 신상 알리미 📢 ${cvs}에서 새로 나온 ${title} 먹어보자!`);\r\n        }\r\n        img.setAttribute(\"content\", prods.imgsrc);\r\n    }\r\n    function shareToTwitter() {\r\n        changeMetaData();\r\n        const dsc = document.querySelector(\"meta[property='og\\\\:description']\").getAttribute(\"content\");;\r\n        window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(dsc)}&url=${encodeURIComponent(window.location.href)}`);\r\n    }\r\n\r\n    function shareToFacebook() {\r\n        changeMetaData();\r\n        window.open(`https://www.facebook.com/sharer.php?u=${encodeURIComponent(window.location.href)}`);\r\n    }\r\n\r\n    function shareToURL({ target }) {\r\n        let popup = document.createElement(\"div\");\r\n        popup.innerText = \"복사완료\";\r\n        popup.className = \"popup\";\r\n        const list = target.closest(\".share-list\");\r\n        if (!list.querySelector(\".popup\")) {\r\n            list.appendChild(popup);\r\n            navigator.clipboard.writeText(document.location.href);\r\n            setTimeout(() => list.removeChild(popup), 1000);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"share-list\">\r\n            <button className=\"facebook\" onClick={shareToFacebook}><FaFacebookSquare /><span className=\"blind\">페이스북</span></button>\r\n            <button className=\"twitter\" onClick={shareToTwitter}><FaTwitterSquare /><span className=\"blind\">트위터</span></button>\r\n            <button className=\"kakaotalk\" onClick={shareToKakao}><RiKakaoTalkFill /><span className=\"blind\">카카오톡</span></button>\r\n            <button onClick={shareToURL}><BiLinkAlt /><span className=\"blind\">링크복사</span></button>\r\n            <ShareHelmet />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShareBtn;","import React, { useEffect, useState } from \"react\";\r\nimport { GiShare } from \"react-icons/gi\"\r\nimport { AiFillHeart } from \"react-icons/ai\"\r\nimport { database } from \"../firebase\";\r\nimport { get, push, ref, child } from \"firebase/database\";\r\nimport ShareBtn from \"./ShareBtn\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst Buttons = ({ prods, cvs, uid }) => {\r\n\r\n    const [count, setCount] = useState(0);\r\n    const [likes, setLikes] = useState([]);\r\n    const [isClicked, setIsClicked] = useState(false);\r\n    const dbRef = ref(database);\r\n\r\n    useEffect(() => {\r\n        get(child(dbRef, \"likes\")).then((snapshot) => {\r\n            const likeData = Object.values(snapshot.val());\r\n            setLikes(likeData);\r\n            let i = 0;\r\n            likeData.forEach(e => {\r\n                if (e.name === prods.title) {\r\n                    i += 1;\r\n                    setCount(i);\r\n                }\r\n            });\r\n        }).catch(err => console.log(err));\r\n    }, []);\r\n\r\n    function clickedShareBtn({ target }) {\r\n        const shareList = target.closest(\".buttons\").querySelector(\".share-list\");\r\n        const lists = document.querySelectorAll(\".share-list\");\r\n        shareList.classList.toggle(\"active\");\r\n        lists.forEach(list => {\r\n            if (shareList !== list) list.classList.remove(\"active\");\r\n        });\r\n    }\r\n\r\n    function clickedLikeBtn() {\r\n        if (likes.find(v => v.name === prods.title && v.uid === uid)) {\r\n            Swal.fire({\r\n                title: \"좋아요는 한번만 가능합니다.\",\r\n                icon: \"warning\",\r\n                confirmButtonText: \"확인\",\r\n                confirmButtonColor: \"#4BCFE5\"\r\n            });\r\n        } else {\r\n            if (!isClicked) {\r\n                setCount(count + 1);\r\n                setIsClicked(true);\r\n                push(child(dbRef, \"likes\"), {\r\n                    uid: uid,\r\n                    name: prods.title\r\n                });\r\n            } else {\r\n                Swal.fire({\r\n                    title: \"좋아요는 한번만 가능합니다.\",\r\n                    icon: \"warning\",\r\n                    confirmButtonText: \"확인\",\r\n                    confirmButtonColor: \"#4BCFE5\"\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"buttons\">\r\n            <button className=\"like\" onClick={clickedLikeBtn}><AiFillHeart /><span className=\"blind\">좋아요</span></button>\r\n            <span className=\"count\">{count}</span>\r\n            <button className=\"share\" onClick={clickedShareBtn}><GiShare /><span className=\"blind\">sns 공유</span></button>\r\n            <ShareBtn prods={prods} cvs={cvs} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Buttons;","import React from \"react\";\r\nimport Buttons from \"./Buttons\";\r\n\r\nconst NewProds = ({ prods, cvs, isHome, uid }) => {\r\n\r\n    return (\r\n        isHome ? <div className=\"prod-box\">\r\n            <div className=\"img-box\">\r\n                <img src={prods.imgsrc} alt={prods.title} onError={e => e.target.src = \"images/error.webp\"} loading=\"lazy\" />\r\n            </div>\r\n            <div className=\"info\">\r\n                <h3>{prods.title}</h3>\r\n                <h4>{prods.price}<span>원</span></h4>\r\n            </div>\r\n        </div> :\r\n            <div className=\"prod-box\">\r\n                <div className=\"img-box\">\r\n                    <img src={prods.imgsrc} alt={prods.title} onError={e => e.target.src = \"images/error.webp\"} loading=\"lazy\" />\r\n                </div>\r\n                <Buttons prods={prods} cvs={cvs} uid={uid} />\r\n                <div className=\"info\">\r\n                    <h3>{prods.title}</h3>\r\n                    <h4>{prods.price}<span>원</span></h4>\r\n                </div>\r\n            </div>\r\n    )\r\n}\r\n\r\nexport default NewProds;","import React, { useEffect } from \"react\";\r\nimport NewProds from \"../components/NewProds\";\r\n\r\nconst CU = ({ isLoading, prods, uid }) => {\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n    }, []);\r\n\r\n    return (\r\n        <div className=\"prods-wrap\">\r\n            <div className=\"inner\">\r\n                <h2>CU</h2>\r\n                <div className=\"prods\">\r\n                    {isLoading ? <></> :\r\n                        <>\r\n                            {prods.cu.map((newProd, index) =>\r\n                                <NewProds key={index} prods={newProd} cvs=\"cu\" uid={uid} />\r\n                            )}\r\n                        </>\r\n                    }\r\n                </div>\r\n                <div className={isLoading ? \"loader\" : \"loader hide\"}>\r\n                    <img src=\"./images/loading.gif\" alt=\"loading\" />\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default CU;"],"names":["Helmet","property","content","prods","cvs","changeMetaData","dsc","document","querySelector","img","title","type","setAttribute","price","indexOf","split","discount","imgsrc","className","onClick","window","open","encodeURIComponent","location","href","getAttribute","kakao","Kakao","isInitialized","Share","sendCustom","templateId","templateArgs","name","image","header","target","popup","createElement","innerText","list","closest","appendChild","navigator","clipboard","writeText","setTimeout","removeChild","uid","useState","count","setCount","likes","setLikes","isClicked","setIsClicked","dbRef","ref","database","useEffect","get","child","then","snapshot","likeData","Object","values","val","i","forEach","e","catch","err","console","log","find","v","Swal","icon","confirmButtonText","confirmButtonColor","push","shareList","lists","querySelectorAll","classList","toggle","remove","isHome","src","alt","onError","loading","isLoading","scrollTo","cu","map","newProd","index"],"sourceRoot":""}