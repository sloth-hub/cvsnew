{"version":3,"file":"static/js/662.da62ec8f.chunk.js","mappings":"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","sources":["components/ShareHelmet.js","components/ShareBtn.js","components/Buttons.js","components/EvtProds.js","pages/Events.js"],"sourcesContent":["import React from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\n\r\nconst ShareHelmet = () => {\r\n\r\n    return (\r\n        <Helmet>\r\n            <meta property=\"og:type\" content=\"website\" />\r\n            <meta property=\"og:title\" content=\"CVSNEW\" />\r\n            <meta property=\"og:url\" content=\"https://cvsnew-sloth-hub.koyeb.app/\" />\r\n            <meta property=\"og:description\" content=\"\" />\r\n            <meta property=\"og:image\" content=\"\" />\r\n        </Helmet>\r\n    );\r\n\r\n}\r\n\r\nexport default ShareHelmet;","import React from \"react\";\r\nimport { FaFacebookSquare, FaTwitterSquare } from \"react-icons/fa\"\r\nimport { RiKakaoTalkFill } from \"react-icons/ri\"\r\nimport { BiLinkAlt } from \"react-icons/bi\";\r\nimport ShareHelmet from \"./ShareHelmet\";\r\n\r\nconst ShareBtn = ({ prods, cvs }) => {\r\n\r\n    function shareToKakao() {\r\n        const kakao = window.Kakao;\r\n        if (kakao.isInitialized()) {\r\n            kakao.Share.sendCustom({\r\n                templateId: !prods.type || prods.type === \"증정\" ? 93216 : 93351,\r\n                templateArgs: {\r\n                    name: prods.title,\r\n                    price: prods.price.discount ? prods.price.discount : prods.price,\r\n                    image: prods.imgsrc,\r\n                    cvs: !prods.type || prods.type === \"증정\" ? \"7-eleven으\" : cvs,\r\n                    type: prods.type,\r\n                    header: prods.type === \"증정\" ? \"행사\" : \"신상\"\r\n                }\r\n            });\r\n        }\r\n    }\r\n\r\n    function changeMetaData() {\r\n        let dsc = document.querySelector(\"meta[property='og\\\\:description']\");\r\n        let img = document.querySelector(\"meta[property='og\\\\:image']\");\r\n        let title = prods.title;\r\n        if (prods.type) {\r\n            if (prods.type === \"증정\") {\r\n                dsc.setAttribute(\"content\", `📢 편의점 행사 알리미 📢 지금 ${cvs}에서는 ${title}이(가) ${prods.price}원!`);\r\n            } else if (prods.type === \"할인\") {\r\n                // 앞에 브랜드명이 있으면 제품명만 표기\r\n                title = title.indexOf(\")\") > 0 ? title.split(\")\")[1] : title;\r\n                dsc.setAttribute(\"content\", `📢 편의점 행사 알리미 📢 지금 ${cvs}에서는 ${title}이(가) ${prods.price.discount}원!`);\r\n            } else {\r\n                // 앞에 브랜드명이 있으면 제품명만 표기\r\n                title = title.indexOf(\")\") > 0 ? title.split(\")\")[1] : title;\r\n                dsc.setAttribute(\"content\", `📢 편의점 행사 알리미 📢 지금 ${cvs}에서는 ${title}이(가) ${prods.type}!`);\r\n            }\r\n        } else {\r\n            // 앞에 브랜드명이 있으면 제품명만 표기\r\n            title = title.indexOf(\")\") > 0 ? title.split(\")\")[1] : title;\r\n            dsc.setAttribute(\"content\", `📢 편의점 신상 알리미 📢 ${cvs}에서 새로 나온 ${title} 먹어보자!`);\r\n        }\r\n        img.setAttribute(\"content\", prods.imgsrc);\r\n    }\r\n    function shareToTwitter() {\r\n        changeMetaData();\r\n        const dsc = document.querySelector(\"meta[property='og\\\\:description']\").getAttribute(\"content\");;\r\n        window.open(`https://twitter.com/intent/tweet?text=${encodeURIComponent(dsc)}&url=${encodeURIComponent(window.location.href)}`);\r\n    }\r\n\r\n    function shareToFacebook() {\r\n        changeMetaData();\r\n        window.open(`https://www.facebook.com/sharer.php?u=${encodeURIComponent(window.location.href)}`);\r\n    }\r\n\r\n    function shareToURL({ target }) {\r\n        let popup = document.createElement(\"div\");\r\n        popup.innerText = \"복사완료\";\r\n        popup.className = \"popup\";\r\n        const list = target.closest(\".share-list\");\r\n        if (!list.querySelector(\".popup\")) {\r\n            list.appendChild(popup);\r\n            navigator.clipboard.writeText(document.location.href);\r\n            setTimeout(() => list.removeChild(popup), 1000);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"share-list\">\r\n            <button className=\"facebook\" onClick={shareToFacebook}><FaFacebookSquare /><span className=\"blind\">페이스북</span></button>\r\n            <button className=\"twitter\" onClick={shareToTwitter}><FaTwitterSquare /><span className=\"blind\">트위터</span></button>\r\n            <button className=\"kakaotalk\" onClick={shareToKakao}><RiKakaoTalkFill /><span className=\"blind\">카카오톡</span></button>\r\n            <button onClick={shareToURL}><BiLinkAlt /><span className=\"blind\">링크복사</span></button>\r\n            <ShareHelmet />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default ShareBtn;","import React, { useEffect, useState } from \"react\";\r\nimport { GiShare } from \"react-icons/gi\"\r\nimport { AiFillHeart } from \"react-icons/ai\"\r\nimport { database } from \"../firebase\";\r\nimport { get, push, ref, child } from \"firebase/database\";\r\nimport ShareBtn from \"./ShareBtn\";\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst Buttons = ({ prods, cvs, uid }) => {\r\n\r\n    const [count, setCount] = useState(0);\r\n    const [likes, setLikes] = useState([]);\r\n    const [isClicked, setIsClicked] = useState(false);\r\n    const dbRef = ref(database);\r\n\r\n    useEffect(() => {\r\n        get(child(dbRef, \"likes\")).then((snapshot) => {\r\n            const likeData = Object.values(snapshot.val());\r\n            setLikes(likeData);\r\n            let i = 0;\r\n            likeData.forEach(e => {\r\n                if (e.name === prods.title) {\r\n                    i += 1;\r\n                    setCount(i);\r\n                }\r\n            });\r\n        }).catch(err => console.log(err));\r\n    }, []);\r\n\r\n    function clickedShareBtn({ target }) {\r\n        const shareList = target.closest(\".buttons\").querySelector(\".share-list\");\r\n        const lists = document.querySelectorAll(\".share-list\");\r\n        shareList.classList.toggle(\"active\");\r\n        lists.forEach(list => {\r\n            if (shareList !== list) list.classList.remove(\"active\");\r\n        });\r\n    }\r\n\r\n    function clickedLikeBtn() {\r\n        if (likes.find(v => v.name === prods.title && v.uid === uid)) {\r\n            Swal.fire({\r\n                title: \"좋아요는 한번만 가능합니다.\",\r\n                icon: \"warning\",\r\n                confirmButtonText: \"확인\",\r\n                confirmButtonColor: \"#4BCFE5\"\r\n            });\r\n        } else {\r\n            if (!isClicked) {\r\n                setCount(count + 1);\r\n                setIsClicked(true);\r\n                push(child(dbRef, \"likes\"), {\r\n                    uid: uid,\r\n                    name: prods.title\r\n                });\r\n            } else {\r\n                Swal.fire({\r\n                    title: \"좋아요는 한번만 가능합니다.\",\r\n                    icon: \"warning\",\r\n                    confirmButtonText: \"확인\",\r\n                    confirmButtonColor: \"#4BCFE5\"\r\n                });\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className=\"buttons\">\r\n            <button className=\"like\" onClick={clickedLikeBtn}><AiFillHeart /><span className=\"blind\">좋아요</span></button>\r\n            <span className=\"count\">{count}</span>\r\n            <button className=\"share\" onClick={clickedShareBtn}><GiShare /><span className=\"blind\">sns 공유</span></button>\r\n            <ShareBtn prods={prods} cvs={cvs} />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Buttons;","import React from \"react\";\r\nimport Buttons from \"./Buttons\";\r\n\r\nconst EvtProds = ({ prods, isHome, uid }) => {\r\n\r\n    return (\r\n        <div className=\"prod-box\">\r\n            <div className=\"img-box\">\r\n                <img src={prods.imgsrc.indexOf(\"http\") === -1 ? \"images/error.webp\" : prods.imgsrc} alt={prods.title} loading=\"lazy\" />\r\n            </div>\r\n            <div className=\"ico\">\r\n                <span className=\"evt-type\">{prods.type}</span>\r\n                <span className={`evt-store ${prods.store === \"7-eleven\" ? \"se\" : prods.store}`}>{prods.store}</span>\r\n            </div>\r\n            {isHome ? null : <Buttons prods={prods} cvs={prods.store} uid={uid} />}\r\n            <div className=\"info\">\r\n                <h3>{prods.title}</h3>\r\n                {prods.price.discount ?\r\n                    <h4>{prods.price.discount}<span>원</span><span className=\"discount\">{prods.price.cost}</span></h4> :\r\n                    <h4>{prods.price}<span>원</span></h4>\r\n                }\r\n            </div>\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default EvtProds;","import React, { useEffect, useState } from \"react\";\r\nimport { database } from \"../firebase\";\r\nimport { get, ref, query } from \"firebase/database\";\r\nimport EvtProds from \"../components/EvtProds\";\r\nimport { FaChevronLeft, FaChevronRight } from \"react-icons/fa\"\r\nimport Swal from \"sweetalert2\";\r\n\r\nconst Events = ({ uid }) => {\r\n\r\n    const [evtProds, setEvtProds] = useState(null);\r\n    const [allProds, setAllProds] = useState(null);\r\n    const [isLoading, setIsLoading] = useState(true);\r\n    const [store, setStore] = useState(\"전체\");\r\n    const [evtType, setEvtType] = useState(\"전체\");\r\n    const [min, setMin] = useState(0);\r\n    const [max, setMax] = useState(12);\r\n    const [page, setPage] = useState(1);\r\n    const [searchValue, setSearchValue] = useState(\"\");\r\n\r\n    useEffect(() => {\r\n        window.scrollTo(0, 0);\r\n        getAllProds();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        showProds();\r\n    }, [store, evtType, isLoading]);\r\n\r\n    async function getAllProds() {\r\n        let q = query(ref(database, \"events\"));\r\n        const result = await get(q).then((snapshot) => snapshot.val());\r\n        setAllProds(result);\r\n        setIsLoading(false);\r\n    }\r\n\r\n    function showProds() {\r\n        if (store === \"전체\" && evtType === \"전체\") {\r\n            setEvtProds(allProds);\r\n        } else if (store && evtType === \"전체\") {\r\n            const result = allProds.filter(v => v.store.match(store));\r\n            setProds(result, false);\r\n        } else if (evtType && store === \"전체\") {\r\n            const result = allProds.filter(v => v.type === evtType);\r\n            setProds(result, false);\r\n        } else {\r\n            const result = allProds.filter(v => v.type === evtType && v.store.match(store));\r\n            setProds(result, false);\r\n        }\r\n    }\r\n\r\n    function setProds(array, isSearched) {\r\n        if (array.length !== 0) {\r\n            setEvtProds(array);\r\n            setIsLoading(false);\r\n        } else {\r\n            setEvtProds(null);\r\n            if (isSearched) setSearchValue(\"\");\r\n            setIsLoading(false);\r\n        }\r\n    }\r\n\r\n    function clickedTab(e) {\r\n        e.preventDefault();\r\n        setPage(1);\r\n        setMin(0);\r\n        setMax(12);\r\n        if (e.target.closest(\".main-tab\")) {\r\n            setStore(e.target.closest(\".tab\").textContent);\r\n            const items = document.querySelectorAll(\".main-tab .tab\");\r\n            items.forEach((e) => {\r\n                e.classList.remove(\"active\");\r\n            });\r\n            e.target.closest(\".tab\").classList.add(\"active\");\r\n        } else {\r\n            setEvtType(e.target.closest(\".tab\").textContent);\r\n            const items = document.querySelectorAll(\".sub-tab .tab\");\r\n            items.forEach((e) => {\r\n                e.classList.remove(\"active\");\r\n            });\r\n            e.target.closest(\".tab\").classList.add(\"active\");\r\n        }\r\n        const lists = document.querySelectorAll(\".share-list\");\r\n        lists.forEach(list => {\r\n            list.classList.remove(\"active\");\r\n        });\r\n    }\r\n\r\n    function pageUp() {\r\n        let total = evtProds.length % 12 === 0 ? evtProds.length / 12 : parseInt(evtProds.length / 12) + 1;\r\n        if (page < total) {\r\n            setPage(page + 1);\r\n        }\r\n        if (evtProds.length > max) {\r\n            setMin(max);\r\n            setMax(max + 12);\r\n        }\r\n    }\r\n\r\n    function pageDown() {\r\n        if (page > 1) {\r\n            setPage(page - 1);\r\n        }\r\n        if (min > 0) {\r\n            setMin(min - 12);\r\n            setMax(max - 12);\r\n        }\r\n    }\r\n\r\n    function clickedSearch() {\r\n        if (searchValue.length !== 0 && searchValue.replace(/^\\s+|\\s+$/g, \"\") !== \"\") {\r\n            const result = allProds.filter((v) => {\r\n                if (store === \"전체\" && evtType === \"전체\") {\r\n                    return v.title.match(searchValue);\r\n                } else if (evtType === \"전체\") {\r\n                    return v.store.match(store) && v.title.match(searchValue);\r\n                } else if (store === \"전체\") {\r\n                    return v.type === evtType && v.title.match(searchValue);\r\n                } else {\r\n                    return v.type === evtType && v.store.match(store) && v.title.match(searchValue);\r\n                }\r\n            });\r\n            setMin(0);\r\n            setMax(12);\r\n            setPage(1);\r\n            setProds(result, true);\r\n        } else {\r\n            Swal.fire({\r\n                title: \"검색어를 입력하세요.\",\r\n                icon: \"warning\",\r\n                confirmButtonText: \"확인\",\r\n                confirmButtonColor: \"#4BCFE5\"\r\n            });\r\n        }\r\n    }\r\n\r\n\r\n\r\n    return (\r\n        <div className=\"events-wrap\">\r\n            <div className=\"inner\">\r\n                <h2>{new Date().getMonth() + 1}월 행사상품</h2>\r\n                <div className=\"tab-wrap\">\r\n                    <ul className=\"main-tab\">\r\n                        <a className=\"tab active\" href=\"#\" onClick={clickedTab}><li>전체</li></a>\r\n                        <a className=\"tab\" href=\"#\" onClick={clickedTab}><li>cu</li></a>\r\n                        <a className=\"tab\" href=\"#\" onClick={clickedTab}><li>7-eleven</li></a>\r\n                        <a className=\"tab\" href=\"#\" onClick={clickedTab}><li>gs25</li></a>\r\n                    </ul>\r\n                    <ul className=\"sub-tab\">\r\n                        <a className=\"tab active\" href=\"#\" onClick={clickedTab}><li>전체</li></a>\r\n                        <a className=\"tab\" href=\"#\" onClick={clickedTab}><li>1+1</li></a>\r\n                        <a className=\"tab\" href=\"#\" onClick={clickedTab}><li>2+1</li></a>\r\n                        <a className=\"tab\" href=\"#\" onClick={clickedTab}><li>3+1</li></a>\r\n                        <a className=\"tab\" href=\"#\" onClick={clickedTab}><li>증정</li></a>\r\n                        <a className=\"tab\" href=\"#\" onClick={clickedTab}><li>할인</li></a>\r\n                    </ul>\r\n                </div >\r\n                <div className=\"search-wrap\">\r\n                    <input type=\"text\" value={searchValue} onChange={e => setSearchValue(e.target.value)} onKeyDown={e => { if (e.code === \"Enter\") clickedSearch() }} />\r\n                    <button className=\"btn\" onClick={clickedSearch}>검색</button>\r\n                </div>\r\n                <div className=\"prods-wrap\">\r\n                    {isLoading ? <div className={isLoading ? \"loader\" : \"loader hide\"}>\r\n                        <img src=\"./images/loading.gif\" alt=\"loading\" />\r\n                    </div> :\r\n                        evtProds !== null ?\r\n                            <>\r\n                                <div className=\"prods\">\r\n                                    {evtProds.slice(min, max).map((prod, index) =>\r\n                                        <EvtProds key={index} prods={prod} isHome={false} uid={uid} />)}\r\n                                </div>\r\n                                <div className=\"page-area\">\r\n                                    <button className=\"btn prev\" onClick={pageDown}><FaChevronLeft /></button>\r\n                                    <div className=\"page-wrap\">\r\n                                        <span className=\"page\">{page}</span>\r\n                                        <span>/</span>\r\n                                        <span className=\"total\">{evtProds.length % 12 === 0 ? evtProds.length / 12 : parseInt(evtProds.length / 12) + 1}</span>\r\n                                    </div>\r\n                                    <button className=\"btn next\" onClick={pageUp}><FaChevronRight /></button>\r\n                                </div>\r\n                            </>\r\n                            : <div className=\"null\">상품이 없습니다.</div>\r\n                    }\r\n                </div>\r\n            </div >\r\n        </div >\r\n    )\r\n}\r\n\r\nexport default Events;"],"names":["Helmet","property","content","prods","cvs","changeMetaData","dsc","document","querySelector","img","title","type","setAttribute","price","indexOf","split","discount","imgsrc","className","onClick","window","open","encodeURIComponent","location","href","getAttribute","kakao","Kakao","isInitialized","Share","sendCustom","templateId","templateArgs","name","image","header","target","popup","createElement","innerText","list","closest","appendChild","navigator","clipboard","writeText","setTimeout","removeChild","uid","useState","count","setCount","likes","setLikes","isClicked","setIsClicked","dbRef","ref","database","useEffect","get","child","then","snapshot","likeData","Object","values","val","i","forEach","e","catch","err","console","log","find","v","Swal","icon","confirmButtonText","confirmButtonColor","push","shareList","lists","querySelectorAll","classList","toggle","remove","isHome","src","alt","loading","store","Buttons","cost","evtProds","setEvtProds","allProds","setAllProds","isLoading","setIsLoading","setStore","evtType","setEvtType","min","setMin","max","setMax","page","setPage","searchValue","setSearchValue","q","query","result","setProds","array","isSearched","length","clickedTab","preventDefault","textContent","add","clickedSearch","replace","filter","match","scrollTo","getAllProds","showProds","Date","getMonth","value","onChange","onKeyDown","code","slice","map","prod","index","parseInt","total"],"sourceRoot":""}